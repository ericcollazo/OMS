extends layout

block content
  h2 #{title}
    h3 #{message}
    p Enter stocks to research in the grid below.
    div(ng-app="oms", ng-controller="symbol-controller")
        #Research.input-group
            input.form-control(placeholder="Enter stock symbol...", type="text", ng-model="newSymbol")
            #Action.input-group-btn
            button.btn.btn-sm.btn-success(type="button", ng-click="symbolAdd()") Add To Grid
            button.btn.btn-sm.btn-primary(type="button", ng-click="refresh()") Refresh Data
        table.table
            thead
                tr
                    th Symbol
                    th(align="right") Last Trade Price
                    th(align="right") Δ
                    th(align="right") Δ%
                    th(align="right") Market Cap
                    th(align="right") Volume
                    th H/L/O
                    th Timestamp
                    th Action
            tbody
                tr(ng-repeat="symbol in symbols")
                    td {{symbol.name}}
                    td(align="right") {{symbol.price}}
                    td(align="right") {{symbol.delta}}
                    td(align="right") {{symbol.deltap}}
                    td(align="right") {{symbol.marketCap}}
                    td(align="right") {{symbol.volume}}
                    td {{symbol.hlc}}
                    td {{symbol.timestamp}}
                    td
                        button.btn.btn-sm.btn-success(type="button", data-toggle="modal", data-target="#lookupModal") Trade
                        button.btn.btn-sm.btn-danger(type="button", ng-click="removeSymbol(symbol.name)") Remove


  div.modal.fade(id="lookupModal", tabindex=-1, role="dialog", aria-labelledby="lookupModalLabel")
      div.modal-dialog(role="document")
          div.modal-contact
              div.modal-header
                  button.close(type="button", data-dismiss="modal", aria-label="Close") 
                      span(aria-hidden="true") &times;
                  div.modal-title(id="lookupModalLabel") 
                      h4 Lookup Symbol
              div.modal-body
                  p This is the modal body
              div.modal-footer
                  button.btn.btn-default(type="button", data-dismiss="modal") Close
                  button.btn.btn-primary Save Changes

block body_end
  script(type='text/javascript' src='/js/research.js')
